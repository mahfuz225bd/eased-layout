<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Old Browser Support Layout</title>
    <style>
        /* General Reset */
        * {
            box-sizing: border-box;
            border: 1px solid #000;
        }

        body {
            font-family: Arial, sans-serif;
        }

        header,
        footer {
            width: 100%;
            clear: both;
        }

        /*main section,
        main article,
        .container main {
            width: 60%
        }*/

        /* Utility classes */
        .container::after,
        main::after,
        .clearfix::after {
            content: "";
            display: block;
            clear: both;
        }

        .left {
            float: left;
        }
    </style>
</head>

<body>

    <h1>Method 1 [header + (div.container -> aside + main + aside) + footer]:</h1>
    <header>Header, in body</header>
    <div class="container">
        <aside>Left aside, in div.container</aside>
        <main>Main</main>
        <aside>Right aside, in div.container</aside>
    </div>
    <footer>Footer, in body</footer>

    <h1>Method 2.1 [header + main -> (aside + section + aside) + footer]:</h1>
    <header>Header, in body</header>
    <main>
        <aside>Left aside, in main</aside>
        <section>Main</section>
        <aside>Right aside, in main</aside>
    </main>
    <footer>Footer, in body</footer>

    <h1>Method 2.2 [header + main -> (aside + article + aside) + footer]:</h1>
    <header>Header, in body</header>
    <main>
        <aside>Left aside, in main</aside>
        <article>Main</article>
        <aside>Right aside, in main</aside>
    </main>
    <footer>Footer, in body</footer>

    <h1>Method 3.1 [main -> (header + aside + section + aside + footer)]:</h1>
    <main>
        <header>Header, in main</header>
        <aside>Left aside, in main</aside>
        <section>Main</section>
        <aside>Right aside, in main</aside>
        <footer>Footer, in main</footer>
    </main>

    <h1>Method 3.2 [main -> (header + aside + article + aside + footer)]:</h1>
    <main>
        <header>Header, in main</header>
        <aside>Left aside, in main</aside>
        <article>Main</article>
        <aside>Right aside, in main</aside>
        <footer>Footer, in main</footer>
    </main>

    <h1>Method 4 [(div.container -> header + aside + main + aside + footer)]:</h1>
    <div class="container">
        <header>Header, in div.container</header>
        <aside>Left aside, in div.container</aside>
        <main>Main</main>
        <aside>Right aside, in div.container</aside>
        <footer>Footer, in div.container</footer>
    </div>

    <h1>Single Aside (Left) Example 1:</h1>
    <header>Header</header>
    <div class="container">
        <aside>Left aside</aside>
        <main>Main</main>
    </div>
    <footer>Footer</footer>

    <h1>Single Aside (Left) Example 2:</h1>
    <header>Header</header>
    <main>
        <aside>Left aside</aside>
        <div class="container">Main</div>
    </main>
    <footer>Footer</footer>

    <h1>Single Aside (Right) Example 1:</h1>
    <header>Header</header>
    <div class="container">
        <main>Main</main>
        <aside>Right aside</aside>
    </div>
    <footer>Footer</footer>

    <h1>Single Aside (Right) Example 2:</h1>
    <header>Header</header>
    <div class="container">
        <main>Main</main>
        <aside>Right aside</aside>
    </div>
    <footer>Footer</footer>

    <h1>Double Aside Example:</h1>
    <header>Header</header>
    <div class="container">
        <aside>Left aside</aside>
        <main>Main</main>
        <aside>Right aside</aside>
    </div>
    <footer>Footer</footer>

    <script>
        function updateLayoutWidths() {
            document.querySelectorAll('.container, main').forEach(parent => {
                const asides = parent.querySelectorAll(':scope > aside');

                // Find the main content element
                const mainContent = parent.querySelector(
                    ':scope > main, :scope > .container, :scope > section, :scope > article'
                );

                const parentWidth = parent.clientWidth;

                if (asides.length === 2) {
                    const asideWidth = parentWidth * 0.25;
                    const mainWidth = parentWidth * 0.50;
                    asides.forEach(el => el.style.width = `${asideWidth}px`);
                    if (mainContent) mainContent.style.width = `${mainWidth}px`;
                } else if (asides.length === 1) {
                    const asideWidth = parentWidth * 0.20;
                    const mainWidth = parentWidth * 0.80;
                    asides[0].style.width = `${asideWidth}px`;
                    if (mainContent) mainContent.style.width = `${mainWidth}px`;
                } else {
                    if (mainContent) mainContent.style.width = `${parentWidth}px`;
                }
            });
        }

        function applyLeftClass() {
            const elements = document.querySelectorAll('aside, .container main, main .container, section, article');
            elements.forEach(el => el.classList.add('left'));
        }

        window.addEventListener('load', () => {
            applyLeftClass();
            updateLayoutWidths();
        });

        window.addEventListener('resize', updateLayoutWidths);
    </script>

</body>

</html>