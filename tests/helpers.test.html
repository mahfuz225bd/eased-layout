<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helpers</title>

    <link rel="stylesheet" href="../dist/extensions/basic-reset/style.css">
    <link rel="stylesheet" href="../dist/extensions/helpers/style.css">
    <style>
        .box {
            width: 100px;
            height: 100px;
            background-color: lightblue;
            margin: 10px;
        }

        .test-item {
            display: none;
        }

        .test-item.active {
            display: block;
        }

        nav input[type="search"] {
            margin-left: 37px;
        }
    </style>

    <script>
        function test(baseClassName = '', className, hasBreakpoints = false, valueOrValues) {
            // available breakpoints (excluding undefined first element)
            const breakpoints = ['tn', 'us', 'cp', 'xxs', 'xs', 'sm', 'md', 'lg', 'xl', 'xxl'];

            const results = [];

            if (hasBreakpoints) {
                // Format 1: With breakpoint, with valueOrValues
                if (valueOrValues) {
                    const isValues = Array.isArray(valueOrValues);
                    const isValue = typeof valueOrValues === 'string' || valueOrValues instanceof String;

                    if (isValues) {
                        const values = [...valueOrValues];

                        values.forEach((value) => {
                            const strValue = new String(value);

                            for (const bp of breakpoints) {
                                const fullClass = baseClassName ? `${baseClassName} ${className}-${bp}-${strValue}` : `${className}-${bp}-${strValue}`;
                                results.push(`<div class="${fullClass}">.${className}-${bp}-${strValue}</div>`);
                            }
                        });
                    }

                    if (isValue) {
                        const strValue = new String(valueOrValues);

                        for (const bp of breakpoints) {
                            const fullClass = baseClassName ? `${baseClassName} ${className}-${bp}-${strValue}` : `${className}-${bp}-${strValue}`;
                            results.push(`<div class="${fullClass}">.${className}-${bp}-${strValue}</div>`);
                        }
                    }
                }
                // Format 2: With breakpoint, without valueOrValues
                else {
                    for (const bp of breakpoints) {
                        const fullClass = `${baseClassName} ${className}-${bp}`;
                        results.push(`<div class="${fullClass}">.${className}-${bp}</div>`);
                    }
                }
            } else {
                // Format 3: Without breakpoint, with valueOrValues
                if (valueOrValues) {
                    const isValues = Array.isArray(valueOrValues);
                    const isValue = typeof valueOrValues === 'string' || valueOrValues instanceof String;

                    if (isValues) {
                        const values = [...valueOrValues];

                        values.forEach((value) => {
                            const strValue = new String(value);

                            const fullClass = baseClassName ? `${baseClassName} ${className}-${strValue}` : `${className}-${strValue}`;
                            results.push(`<div class="${fullClass}">.${className}-${strValue}</div>`);
                        });
                    }

                    if (isValue) {
                        const strValue = new String(valueOrValues);

                        const fullClass = `${baseClassName} ${className}-${strValue}`;
                        results.push(`<div class="${fullClass}">.${className}-${strValue}</div>`);
                    }


                }
                // Format 4: Without breakpoint, without valueOrValues
                else {
                    const fullClass = baseClassName ? `${baseClassName} ${className}` : className;
                    results.push(`<div class="${fullClass}">.${className}</div>`);
                }
            }            

            // Append the results to the body with a h3
            const container = document.querySelector('.container');

            const testItem = document.createElement('div');
            testItem.className = 'test-item';

            const h3 = document.createElement('h3');
            h3.textContent = `.${className}-`;
            h3.id = `test-${className}`;
            testItem.appendChild(h3);

            const div = document.createElement('div');
            div.innerHTML = results.join('');

            testItem.appendChild(div);

            // Add a line break
            testItem.appendChild(document.createElement('br'));

            container.appendChild(testItem);

            return results.join('\n');
        }
    </script>
</head>

<body>
    <h1>Helpers</h1>

    <h2>Class Prefixes</h2>

    <nav>
        <input type="search" id="searchList" placeholder="Search list" />
        <ul id="navigation"></ul>
    </nav>

    <div class="container"></div>

    <script>
        // Typography
        test('', 'lead', false, '');
        test('', 'display', false, [1, 2, 3, 4, 5, 6]);

        // Font
        test('', 'fs', false, [1, 2, 3, 4, 5, 6]);
        test('', 'font', false, 'monospace');
        test('', 'font-style', false, ['italic', 'normal']);
        test('', 'font-weight', false, ['lighter', 'light', 'normal', 'medium', 'semibold', 'bold', 'bolder']);

        // Text
        test('', 'text-align', true, ['left', 'center', 'right']);
        test('', 'text-decoration', true, ['none', 'underline', 'line-through']);
        test('', 'text', true, ['lowercase', 'uppercase', 'capitalize', 'wrap', 'nowrap']);
        test('', 'text-color', true, ['black', 'white', 'muted', 'black-50', 'white-50', 'reset']);
        test('', 'text-break', true, '');

        // Offset
        test('box', 'offset', true, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]);

        // Margin
        test('box', 'm', true, [0, 1, 2, 3, 4, 5]);
        test('box', 'mt', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'ml', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'mr', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'mb', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'mx', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'my', true, [0, 1, 2, 3, 4, 5, 'auto']);

        // Padding
        test('box', 'p', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'pt', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'pl', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'pr', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'pb', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'px', true, [0, 1, 2, 3, 4, 5, 'auto']);
        test('box', 'py', true, [0, 1, 2, 3, 4, 5, 'auto']);

        // Gutter
        test('box', 'g', false, [0, 1, 2, 3, 4, 5]);
        test('box', 'gx', false, [0, 1, 2, 3, 4, 5]);
        test('box', 'gy', false, [0, 1, 2, 3, 4, 5]);

        // Ratio
        test('box', 'ratio', false, ['1x1', '4x3', '16x9', '21x9']);

        // Position
        test('box', 'position', true, ['static', 'relative', 'absolute', 'fixed', 'sticky']);
        test('box', 'position-absolute', true, [
            'top-left', 'top-center', 'top-right',
            'middle-left', 'middle-center', 'middle-right',
            'bottom-left', 'bottom-center', 'bottom-right'
        ]);
        test('box', 'position-fixed', true, [
            'top-left', 'top-center', 'top-right',
            'middle-left', 'middle-center', 'middle-right',
            'bottom-left', 'bottom-center', 'bottom-right'
        ]);
        test('box', 'position-sticky', true, [
            'top-left', 'top-center', 'top-right',
            'middle-left', 'middle-center', 'middle-right',
            'bottom-left', 'bottom-center', 'bottom-right'
        ]);
        test('box', 'top', true, [0, 50, 100]);
        test('box', 'left', true, [0, 50, 100]);
        test('box', 'right', true, [0, 50, 100]);
        test('box', 'bottom', true, [0, 50, 100]);
        test('box', 'translate', true, ['middle', 'middle-x', 'middle-y']);

        // Alignments
        test('box', 'h-center', false, '');
        test('box', 'center', false, '');
        test('box', 'absolute-center', false, ['center', 'h-center', 'v-center']);
        test('box', 'v-align', false, ['baseline', 'top', 'middle', 'bottom', 'text-bottom', 'text-top']);

        // Stack
        test('box', 'hstack', false, '');
        test('box', 'vstack', false, '');

        // Visibility
        test('box', 'visible', false, '');
        test('box', 'invisible', false, '');
        test('box', 'visually-hidden-focusable', false, '');

        // Opacity
        test('box', 'opacity', false, [0, 25, 50, 75, 100]);

        // Overflow
        test('box', 'overflow', false, ['auto', 'hidden', 'visible', 'scroll']);
        test('box', 'overflow-x', false, ['auto', 'hidden', 'visible', 'scroll']);
        test('box', 'overflow-y', false, ['auto', 'hidden', 'visible', 'scroll']);

        // Float, Clear and Clearfix
        test('box', 'float', true, ['left', 'right', 'none']);
        test('box', 'clear', true, ['left', 'right', 'both', 'none']);
        test('box', 'clearfix', false, '');

        // Object Fit
        test('box', 'object-fit', true, ['contain', 'cover', 'fill', 'scale', 'none']);

        // Display
        test('box', 'd', true, [
            'inline', 'block', 'contents', 'flex', 'grid', 'inline-block', 'inline-flex', 'inline-grid', 'inline-table',
            'list-item', 'run-in', 'table', 'table-caption', 'table-column-group', 'table-header-group', 'table-footer-group',
            'table-row-group', 'table-cell', 'table-column', 'table-row', 'none'
        ]);

        // Border
        test('box', 'border-style', false, [
            'none', 'hidden', 'dotted', 'dashed', 'solid', 'double', 'groove', 'ridge', 'inset', 'outset'
        ]);
        test('box', 'border', false, [0, 1, 2, 3, 4, 5]);
        test('box', 'border-top', false, [1, 2, 3, 4, 5]);
        test('box', 'border-left', false, [1, 2, 3, 4, 5]);
        test('box', 'border-right', false, [1, 2, 3, 4, 5]);
        test('box', 'border-bottom', false, [1, 2, 3, 4, 5]);

        // Width and Height
        test('box', 'width', false, [5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 'auto']);
        test('box', 'max-width', false, 100);
        test('box', 'vw-width', false, 100);
        test('box', 'min-width', false, '100vw');

        test('box', 'height', false, [5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 'auto']);
        test('box', 'max-height', false, 100);
        test('box', 'vh-height', false, 100);
        test('box', 'min-height', false, '100vh');

        // Line Height
        test('box', 'line-height', false, [0, 1]);

        // Link Offset
        test('box', 'link-offset', false, [1, 2, 3]);
        test('box', 'link-offset-hover', false, [1, 2, 3]);

        // User Select and Pointer Event
        test('box', 'user-select', false, ['all', 'auto', 'none']);
        test('box', 'pointer-events', false, ['none', 'auto']);

        // Rounded
        test('box', 'rounded', false, [0, 1, 2, 3, 4, 5, 'circle', 'pill']);
        test('box', 'rounded-top', false, [0, 1, 2, 3, 4, 5, 'circle', 'pill']);
        test('box', 'rounded-left', false, [0, 1, 2, 3, 4, 5, 'circle', 'pill']);
        test('box', 'rounded-right', false, [0, 1, 2, 3, 4, 5, 'circle', 'pill']);
        test('box', 'rounded-bottom', false, [0, 1, 2, 3, 4, 5, 'circle', 'pill']);

        // Z-index
        test('box', 'z-index', false, ['n1', 0, 1, 2, 3]);

        // Flex
        test('box', 'flex-fill', true);
        test('box', 'flex-direction', true, ['row, row-reverse', 'column', 'column-reverse']);
        test('box', 'flex-wrap', ['nowrap', 'wrap', 'wrap-reverse']);
        test('box', 'flex-basis', true, [0, 'auto']);
        test('box', 'flex-grow', true, [0, 1]);
        test('box', 'flex-shrink', true, [0, 1]);

        /* Grid Styles */
        test('box', 'grid-auto-flow', true, ['row', 'column', 'dense', 'row-dense', 'column-dense']);
        test('box', 'grid-auto-rows', true, ['auto', 0, 'min-content', 'max-content']);
        test('box', 'grid-auto-columns', true, ['auto', 0, 'min-content', 'max-content']);

        /* Flex and Grid Styles */
        test('box', 'align-content-stretch', true, ['stretch', 'center', 'left', 'right', 'space-between', 'space-around', 'space-evenly']);
        test('box', 'align-items-normal', true, ['normal', 'stretch', 'left', 'right', 'center', 'baseline']);
        test('box', 'justify-content', true, ['left', 'right', 'center', 'space-between', 'space-around', 'space-evenly']);
        test('box', 'align-self', true, ['auto', 'stretch', 'center', 'left', 'right', 'baseline']);
        test('box', 'column-gap', true, [0, 'normal']);
        test('box', 'row-gap', true, [0, 'normal']);
        test('box', 'order', true, ['first', 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]);

        // DOMContentLoaded
        document.addEventListener('DOMContentLoaded', function () {
            const navigation = document.getElementById('navigation');
            const items = document.querySelectorAll('.test-item');

            // Add List Items
            items.forEach((item) => {
                const id = item.querySelector('h3').id;
                const li = document.createElement('li');
                const text = id.replace('test-', '');

                li.innerHTML = `<a href="#${id}">${text}</a>`;

                navigation.appendChild(li);

                item.classList.add('test-item');
            });

            // Active and Scroll
            items.forEach((item) => {
                const id = item.querySelector('h3').id;
                const link = document.querySelector(`a[href="#${id}"]`);
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    items.forEach((i) => i.classList.remove('active'));
                    item.classList.add('active');
                    window.scrollTo(0, item.offsetTop);
                });
            });

            items[0].classList.add('active');

            window.scrollTo(0, items[0].offsetTop);

            // Search List
            const searchList = document.getElementById('searchList');
            searchList.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                navigation.querySelectorAll('li').forEach((li) => {
                    const text = li.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        li.style.display = 'block';
                    } else {
                        li.style.display = 'none';
                    }
                });
            });
        });
    </script>

</body>

</html>